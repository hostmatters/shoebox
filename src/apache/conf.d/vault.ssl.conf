<VirtualHost *:80>

ServerName vault.yourdomain.com
ServerAlias www.vault.yourdomain.com

RewriteEngine On
RewriteCond %{HTTPS} !=on
RewriteRule ^/?(.*) https://%{SERVER_NAME}/$1 [R,NE,L]

</VirtualHost>


<VirtualHost *:443>

ServerName vault.yourdomain.com
ServerAlias www.vault.yourdomain.com

# Logging
LogLevel warn
ErrorLog ${APACHE_LOG_DIR}/vault.yourdomain.com-error_log
CustomLog ${APACHE_LOG_DIR}/vault.yourdomain.com-access_log combined

# Reverse proxy configuration
<Location />
ProxyPass http://localhost:10080/
ProxyPassReverse http://localhost:10080/
</Location>

Include /etc/letsencrypt/options-ssl-apache.conf
SSLCertificateFile /etc/letsencrypt/live/yourdomain.com/cert.pem
SSLCertificateKeyFile /etc/letsencrypt/live/yourdomain.com/privkey.pem
SSLCertificateChainFile /etc/letsencrypt/live/yourdomain.com/chain.pem

</VirtualHost>