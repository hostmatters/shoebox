<VirtualHost *:80>

ServerName vault.example.com
ServerAlias www.vault.example.com

RewriteEngine On
RewriteCond %{HTTPS} !=on
RewriteRule ^/?(.*) https://%{SERVER_NAME}/$1 [R,NE,L]

</VirtualHost>


<VirtualHost *:443>

ServerName vault.example.com
ServerAlias www.vault.example.com

# Logging
LogLevel warn
ErrorLog /var/log/httpd/vault.example.com-error_log
CustomLog /var/log/httpd/vault.example.com-access_log combined

# Reverse proxy configuration
<Location />
ProxyPass http://localhost:10080/
ProxyPassReverse http://localhost:10080/
</Location>

Include /etc/letsencrypt/options-ssl-apache.conf
SSLCertificateFile /etc/letsencrypt/live/example.com/cert.pem
SSLCertificateKeyFile /etc/letsencrypt/live/example.com/privkey.pem
SSLCertificateChainFile /etc/letsencrypt/live/example.com/chain.pem

</VirtualHost>