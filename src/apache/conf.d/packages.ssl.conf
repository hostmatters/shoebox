<VirtualHost *:80>

ServerName packages.yourdomain.com
ServerAlias www.packages.yourdomain.com

RewriteEngine On 
RewriteCond %{HTTPS} !=on
RewriteRule ^/?(.*) https://%{SERVER_NAME}/$1 [R,NE,L]

</VirtualHost>


<VirtualHost *:443>

ServerName packages.yourdomain.com
ServerAlias www.packages.yourdomain.com

# Logging
LogLevel warn
ErrorLog ${APACHE_LOG_DIR}/packages.yourdomain.com-error_log
CustomLog ${APACHE_LOG_DIR}/packages.yourdomain.com-access_log combined

# Reverse proxy configuration
<Location />
ProxyPass http://localhost:10180/
ProxyPassReverse http://localhost:10180/
</Location>

Include /etc/letsencrypt/options-ssl-apache.conf
SSLCertificateFile /etc/letsencrypt/live/yourdomain.com/cert.pem
SSLCertificateKeyFile /etc/letsencrypt/live/yourdomain.com/privkey.pem
SSLCertificateChainFile /etc/letsencrypt/live/yourdomain.com/chain.pem

</VirtualHost>